"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5529],{2030:function(e,t,a){a.d(t,{default:function(){return l}});var r=a(57437),o=a(2265),i=a(74391),d=a(282),n=a(89354),c=a(77967);function l(e){let{children:t}=e,{makeErrorToast:a}=(0,n.Z)(),[l,s]=(0,o.useState)(!0),[u,m]=(0,o.useState)([]),[g,h]=(0,o.useState)([]),[p,f]=(0,o.useState)([]),[T,y]=(0,o.useState)(!1),G=e=>{(0,i.Z)(d.Z.getGoldPriceHistory,{period:e}).then(e=>({success:e.ok,data:e.json()})).then(t=>{t.data.then(r=>{t.success?"day"==e?E(r.reverse()):"week"==e?C(r.reverse()):"month"==e&&S(r.reverse()):a(r.message)})}).catch(e=>{a()}).finally(()=>{y(!1)})},E=e=>{let t=new Date,a="",r="",o="",i=e.map(e=>{if(e.createdAt&&"Invalid Date"!=(a=new Date(e.createdAt).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"})))return a.includes("،")?(r=a.split("،")[1].trim(),o=a.split("،")[0].trim()):(r=a.split(",")[1].trim(),o=a.split(",")[0].trim()),{price:e.price,time:"".concat(r.split(":")[0],":").concat(r.split(":")[1]),date:"".concat(o.split("/")[1],"/").concat(o.split("/")[2]),fullData:o,createdAt:new Date(e.createdAt)}});t.setDate(t.getDate()-1);let d=i.filter(e=>e.createdAt>t);m(d),0==d.length&&s(!1)},C=e=>{let t=new Date,a="",r="",o="",i=e.map(e=>{if(e.createdAt&&"Invalid Date"!=(a=new Date(e.createdAt).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"})))return a.includes("،")?(r=a.split("،")[1].trim(),o=a.split("،")[0].trim()):(r=a.split(",")[1].trim(),o=a.split(",")[0].trim()),{price:e.price,time:"".concat(r.split(":")[0],":").concat(r.split(":")[1]),date:"".concat(o.split("/")[1],"/").concat(o.split("/")[2]),fullData:o,createdAt:new Date(e.createdAt)}});t.setDate(t.getDate()-7),h(i.filter(e=>e.createdAt>t))},S=e=>{let t=new Date,a="",r="",o="",i=e.map(e=>{if(e.createdAt&&"Invalid Date"!=(a=new Date(e.createdAt).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"})))return a.includes("،")?(r=a.split("،")[1].trim(),o=a.split("،")[0].trim()):(r=a.split(",")[1].trim(),o=a.split(",")[0].trim()),{price:e.price,time:"".concat(r.split(":")[0],":").concat(r.split(":")[1]),date:"".concat(o.split("/")[1],"/").concat(o.split("/")[2]),fullData:o,createdAt:new Date(e.createdAt)}});t.setDate(t.getDate()-30),f(i.filter(e=>e&&e.createdAt>t))};return(0,r.jsx)(c.O.Provider,{value:{isDayDataAvailable:l,dayHistory:u,weekHistory:g,monthHistory:p,isHistoryLoading:T,getGoldHistory:e=>{("day"!=e||0!=u.length)&&("week"!=e||0!=g.length)&&("month"!=e||0!=p.length)||T||(y(!0),(0,i.Z)("day"==e?d.Z.getGoldHistoryDay:"week"==e?d.Z.getGoldHistoryWeek:"month"==e?d.Z.getGoldHistoryMonth:d.Z.getGoldHistoryDay).then(e=>({success:e.ok,data:e.json()})).then(t=>{t.data.then(r=>{t.success?r.length>0?("day"==e?m(r):"week"==e?h(r):"month"==e&&f(r),y(!1)):G(e):(a(r.message),G(e))})}).catch(t=>{a(),G(e)}))}},children:t})}},77967:function(e,t,a){a.d(t,{O:function(){return r}});let r=(0,a(2265).createContext)()},96964:function(e,t,a){a.d(t,{default:function(){return s}});var r=a(57437),o=a(21316),i=a(2265),d=a(74391),n=a(282),c=a(86363);let l=(0,o.io)("https://api.talasea.ir",{transports:["websocket","polling"],path:"/socket"});function s(e){let{children:t}=e,[a,o]=(0,i.useState)(0),[s,u]=(0,i.useState)(0),[m,g]=(0,i.useState)(0),[h,p]=(0,i.useState)(0),[f,T]=(0,i.useState)(0),[y,G]=(0,i.useState)(0),[E,C]=(0,i.useState)(0),[S,v]=(0,i.useState)([]),D=()=>{try{l.on("goldPrice",e=>{e&&e.price&&(o(1e3*e.price),g(e.fee),p(e.minOrderValue),T(e.maxOrderValue),G(Number(e.change24h)))})}catch(e){console.log("error on socket")}},P=()=>{(0,d.Z)(n.Z.getGoldPrice).then(e=>({success:e.ok,data:e.json()})).then(e=>{e.data.then(t=>{e.success&&(o(1e3*t.price),u(t.fee),p(t.minOrderValue),T(t.maxOrderValue),G(Number(t.change24h)),v(t.feeTable),C(t.totalOrder30dayValues))})}).catch(e=>{})};return(0,i.useEffect)(()=>{P(),D()},[]),(0,r.jsx)(c.W.Provider,{value:{price:a,fee:s,publicFee:m,minOrderValue:h,maxOrderValue:f,change24h:y,userTotalOrdersValues:E,feeTable:S,refreshData:P},children:t})}},55970:function(e,t,a){a.d(t,{default:function(){return u}});var r=a(57437),o=a(8627),i=a(2265),d=a(31877),n=a(83466),c=a(90060),l=a(74391),s=a(282);function u(e){let{children:t}=e,[a,u]=(0,i.useState)("light"),[m,g]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),f=()=>{let e=(0,n.Z)("theme");if("undefined"!=typeof document){if("dark"==e){(0,c.Z)("theme","dark",30),u("dark"),document.body.setAttribute("theme","dark");try{document.getElementsByTagName("meta")["theme-color"].content="#121212"}catch(e){}}else{(0,c.Z)("theme","light",30),u("light"),document.body.setAttribute("theme","light");try{document.getElementsByTagName("meta")["theme-color"].content="#fff"}catch(e){}}}},T=()=>{(0,l.Z)(s.Z.getChatPanel).then(e=>({success:e.ok,data:e.json()})).then(e=>{e.data.then(t=>{e.success&&(""==(0,n.Z)("token")?setTimeout(()=>{g("raychat"==t.chatPanel?"rai":(t.chatPanel,"goftino"))},45e3):g("raychat"==t.chatPanel?"rai":(t.chatPanel,"goftino")),p(t.phoneNumber))})}).catch(e=>{})};return(0,i.useEffect)(()=>{f(),T()},[]),(0,r.jsxs)(o.N.Provider,{value:{telephone:h,theme:a,changeTheme:()=>{if("light"==a){if((0,c.Z)("theme","dark",30),u("dark"),"undefined"!=typeof document){document.body.setAttribute("theme","dark");try{document.getElementsByTagName("meta")["theme-color"].content="#121212"}catch(e){}}}else if((0,c.Z)("theme","light",30),u("light"),"undefined"!=typeof document){document.body.setAttribute("theme","light");try{document.getElementsByTagName("meta")["theme-color"].content="#fff"}catch(e){}}}},children:["goftino"==m&&(0,r.jsx)(d.default,{id:"goftino-script",type:"text/javascript",dangerouslySetInnerHTML:{__html:'!function(){var e="kKc8YF",t=window,n=document;function a(){var t=n.createElement("script"),a="https://www.goftino.com/widget/"+e,o=localStorage.getItem("goftino_"+e);t.async=!0,t.src=o?a+"?o="+o:a,n.getElementsByTagName("head")[0].appendChild(t)}"complete"===n.readyState?a():t.attachEvent?t.attachEvent("onload",a):t.addEventListener("load",a,!1)}(),"undefined"!=typeof window&&window.addEventListener("goftino_ready",function(){let e=()=>{let t="",n="",a="";"undefined"!=typeof document&&(t=document.getElementById("navUserUsername")),"undefined"!=typeof localStorage&&(n=localStorage.getItem("phoneNumberCode"),a=localStorage.getItem("nationalCode")),t&&""!==t.innerText&&"نام"!==t.innerText?Goftino.setUser({name:t.innerText,about:`کدملی: ${a} , شماره: ${n}`,forceUpdate:!0}):Goftino.setUser({about:`کدملی: ${a} , شماره: ${n}`,forceUpdate:!0}),setTimeout(()=>{e()},2500)};e()});'}}),"rai"==m&&(0,r.jsx)(d.default,{id:"rai-chat-script",type:"text/javascript",dangerouslySetInnerHTML:{__html:'window.RAYCHAT_TOKEN="4095ecaf-0f16-4295-b450-4f7b3ce5adc6",window.LOAD_TYPE="SEO_FRIENDLY",(s=(d=document).createElement("script")).src="https://widget-react.raychat.io/install/widget.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s),window.addEventListener("raychat_ready",function(e){let t=()=>{let e="",a="",n="";"undefined"!=typeof document&&(e=document.getElementById("navUserUsername")),"undefined"!=typeof localStorage&&(a=localStorage.getItem("phoneNumberCode"),n=localStorage.getItem("nationalCode")),e&&""!==e.innerText&&"نام"!==e.innerText?window.Raychat.setUser({email:"",name:e.innerText,about:`شماره: ${a.toString()} کدملی: ${n.toString()}`,phone:"",avatar:"",updateOnce:!1}):window.Raychat.setUser({email:"",name:"",about:`شماره: ${a.toString()} کدملی: ${n.toString()}`,phone:"",avatar:"",updateOnce:!1}),setTimeout(()=>{t()},2500)};t()});'}}),t]})}},74391:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(83466);async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={method:e.method,headers:{"Content-Type":"application/json",authorization:(0,r.Z)("token"),platform:"web client"}};"POST"==e.method&&(o.body=JSON.stringify(a));let i="https://api.talasea.ir/api/"+e.url+"?";for(let a in e.isMag&&(i="https://talasea.ir/blog/api/"+e.url+"?"),e.isLocal&&(i=e.url+"?"),t)i+="".concat(a,"=").concat(t[a],"&");return await fetch(i,o)}},282:function(e,t){t.Z={sendOTP:{method:"POST",url:"auth/sentOTP"},verifyOTP:{method:"POST",url:"auth/verifyOTP"},getOrders:{method:"GET",url:"order/getOrders"},createOrder:{method:"POST",url:"order/createOrder"},createLimitOrder:{method:"POST",url:"order/createLimitOrder"},getLimitOrders:{method:"GET",url:"order/getLimitOrders"},cancelLimitOrder:{method:"GET",url:"order/cancelLimitOrder"},createFactor:{method:"GET",url:"order/getInvoice"},getBalances:{method:"GET",url:"account/getBalances"},getAuthHistory:{method:"GET",url:"account/getAuthHistory"},completeSignUp:{method:"POST",url:"account/completeSignUp"},getUserData:{method:"GET",url:"account/getUserData"},addBankCard:{method:"POST",url:"account/addBankCard"},getBankCards:{method:"GET",url:"account/getBankCards"},getBalancesHistory:{method:"GET",url:"account/getBalancesHistory"},getWallet:{method:"GET",url:"account/getWallet"},getSuggestions:{method:"GET",url:"account/getSuggestions"},getTelegramBotId:{method:"GET",url:"account/getTelegramBotId"},getUserReferalData:{method:"GET",url:"account/getUserReferalData"},createReferralCode:{method:"POST",url:"account/createReferralCode"},getReferralCode:{method:"GET",url:"account/getReferralCode"},getReferalUsers:{method:"GET",url:"account/getReferalUsers"},getReferalTransactions:{method:"GET",url:"account/getReferalTransactions"},createClientData:{method:"POST",url:"clientData/createClientData"},getClientData:{method:"GET",url:"clientData/getClientData"},getGoldPrice:{method:"GET",url:"market/getGoldPrice"},getGoldPriceHistory:{method:"GET",url:"market/getGoldPriceHistory"},verifyPurchase:{method:"GET",url:"purchase/verify"},createPurchase:{method:"POST",url:"purchase/createPurchase"},getPurchase:{method:"GET",url:"purchase/getPurchase"},getConfig:{method:"GET",url:"purchase/getConfig"},getBankAccounts:{method:"GET",url:"purchase/getBankAccounts"},getDirectPurchases:{method:"GET",url:"purchase/getDirectPurchases"},createWithdrawIRT:{method:"POST",url:"withdrawIRT/createWithdrawIRT"},deleteWithdrawIRT:{method:"GET",url:"withdrawIRT/deleteWithdrawIRT"},getWithdrawIRTs:{method:"GET",url:"withdrawIRT/getWithdrawIRTs"},getCommodity:{method:"GET",url:"commodity/getCommodity"},createGoldReceiveRequest:{method:"POST",url:"goldReceiveRequest/createGoldReceiveRequest"},getGoldReceiveRequest:{method:"GET",url:"goldReceiveRequest/getGoldReceiveRequest"},getGiftCardData:{method:"GET",url:"giftCard/getGiftCardData"},getGiftCards:{method:"GET",url:"giftCard/getGiftCards"},buyGiftCard:{method:"POST",url:"giftCard/buyGiftCard"},buyGiftCardV2:{method:"POST",url:"v2/giftCard/buyGiftCard"},submitGiftCard:{method:"POST",url:"giftCard/submitGiftCard"},getGiftCardTheme:{method:"GET",url:"giftcardThems/getTheme"},getSubmitedGiftCards:{method:"GET",url:"giftCard/getSubmitedGiftCards"},getThemeBuyCode:{method:"GET",url:"giftcardThems/getThemeBuyCode"},getGiftCardDataByPublicKey:{method:"GET",url:"giftCard/getGiftCardDataByPublicKey"},deliveryGiftCard:{method:"GET",url:"giftCard/deliveryGiftCard"},getAddress:{method:"GET",url:"location/getAddress"},getRules:{method:"GET",url:"app/getRules"},getFeeData:{method:"GET",url:"app/getFeeData"},getShippingData:{method:"GET",url:"app/getShippingData"},getChatPanel:{method:"GET",url:"app/getChatPanel"},getCryptoSupportedCoins:{method:"GET",url:"crypto/getCryptoSupportedCoins"},getCryptoWallets:{method:"GET",url:"crypto/getCryptoWallets"},createCryptoDeposit:{method:"POST",url:"crypto/createCryptoDeposit"},getCryptoDeposits:{method:"GET",url:"crypto/getCryptoDeposits"},getGoldReceiveTime:{method:"GET",url:"goldReceiveTime/getTimes"},getGoldHistoryDay:{method:"GET",url:"/api/goldPrice/day",isLocal:!0},getGoldHistoryWeek:{method:"GET",url:"/api/goldPrice/week",isLocal:!0},getGoldHistoryMonth:{method:"GET",url:"/api/goldPrice/month",isLocal:!0},localError:{method:"POST",url:"/api/error",isLocal:!0},magHeaders:{method:"GET",url:"v1/headers",isMag:!0},mageMostVisit:{method:"GET",url:"v1/mostvisit-articles",isMag:!0},magAuthor:{method:"GET",url:"v1/author",isMag:!0},magPopularArticles:{method:"GET",url:"v1/popular-articles",isMag:!0},magRecentArticles:{method:"GET",url:"v1/recent-articles",isMag:!0},magCategories:{method:"GET",url:"v1/categories",isMag:!0},magSingleCategory:{method:"GET",url:"v1/category",isMag:!0},magPopularCategory:{method:"GET",url:"v1/category-popular",isMag:!0},magGetCategoryArticles:{method:"GET",url:"v1/category-articles",isMag:!0},magGetArticle:{method:"GET",url:"v1/article",isMag:!0},magAllArticle:{method:"GET",url:"v1/articles",isMag:!0},magSubmitComment:{method:"POST",url:"v1/comment",isMag:!0},magSubmitRate:{method:"POST",url:"v1/article/score",isMag:!0},magRelatedArticles:{method:"GET",url:"v1/related-articles",isMag:!0},searchArticle:{method:"POST",url:"v1/search-article",isMag:!0}}}}]);